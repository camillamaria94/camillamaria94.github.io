<html>
<head>
  <title>Cadastro</title>
  <link rel="stylesheet" href="css/index.css">

  <!-- Asynchronous loading of the IncogniaWebSdk using defer -->
  <script defer src="https://repo.incognia.com/web/latest/incognia-web-sdk.js"></script>

  <!-- IncogniaWebSdk initialized after the DOM loads -->
  <script>
    window.addEventListener('DOMContentLoaded', () => 
    window.IncogniaWebSdk.init('fde8ad2d-2a07-44d8-aeac-54f851f41dea')
    )
  </script>

</head>

<body>
  <div id="body-index">
  <h1 id="h1-index">Cadastro</h1>
  <form name="cadastro">
  <label for="name">Nome</label>
  <input type="text" id="name" name="name" required><br><br>
  <label for="street">Rua</label>
  <input type="text" id="street" name="street" required><br><br>
  <label for="number">Número</label>
  <input type="text" id="number" name="number" required><br><br>
  <label for="city">Cidade</label>
  <input type="text" id="city" name="city" required><br><br>
  <label for="state">Estado</label>
  <input type="text" id="state" name="state" required><br><br>
  <label for="countryName">País</label>
  <input type="text" id="countryName" name="countryName" required><br><br>
  <label for="postalCode">Código Postal</label>
  <input type="text" id="postalCode" name="postalCode" required><br><br>
  <label for="account_id">Usuário</label>
  <input type="text" id="account_id" name="account_id" required><br><br>
  <label for="password">Senha</label>
  <input type="password" id="password" name="password" required><br><br>
  <input type="submit" class="enviar" onclick="signup();" value="Enviar" />
</form>
<button onclick="preencherSessionToken()" id="bot">Session_token</button>
<br>
<label id="session-token">Session Token: </label>
<script src="js/index.js">
</script>
  </div>

  <script>
    function signup() {
    var name = document.getElementById("name");
    var street = document.getElementById("street");
    var number = document.getElementById("number");
    var city = document.getElementById("city");
    var state = document.getElementById("state");
    var countryName = document.getElementById("countryName");
    var account_id = document.getElementById("account_id");
    var postalCode = document.getElementById("postalCode");
    
  window.IncogniaWebSdk.sendCustomEvent({
  tag: 'onboarding',
  externalId: '123',
  accountId: account_id.value,
  address: {
    street: street.value,
    number: number.value,
    city: city.value,
    state: state.value,
    countryName: 'US',
    postalCode: postalCode.value
  }
})
console.log("passou aqui")
}
  </script>
</body>
</html>